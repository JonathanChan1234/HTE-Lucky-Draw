<div class="participant-signin-container">
    <h1>HTE Lucky Draw</h1>
    <h2>Sign In For Draw</h2>
    <img src="../assets/lottery.png" />
    <app-loading-spinner msg="Signing In" *ngIf="loading"></app-loading-spinner>
    <form
        [formGroup]="formGroup"
        (ngSubmit)="signIn()"
        class="signin-form"
        *ngIf="loading === false"
    >
        <mat-form-field appearance="fill">
            <mat-label>Participant ID</mat-label>
            <input matInput type="text" formControlName="participantId" />
            <button
                *ngIf="formGroup.value.participantId"
                matSuffix
                mat-icon-button
                aria-label="Clear"
                type="button"
                (click)="formGroup.patchValue({ participantId: '' })"
            >
                <mat-icon>close</mat-icon>
            </button>
            <mat-error
                *ngIf="formGroup.get('participantId')?.hasError('required')"
            >
                Required</mat-error
            >
        </mat-form-field>
        <button
            mat-raised-button
            color="primary"
            type="submit"
            class="register-btn"
            [disabled]="!formGroup.valid || loading"
        >
            Sign In
        </button>
    </form>
    <div *ngIf="participant && loading === false">
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    <mat-icon>done</mat-icon>
                    Sign in successfully</mat-card-title
                >
                <mat-card-subtitle
                    >Message: {{ participant.message }}</mat-card-subtitle
                >
            </mat-card-header>
        </mat-card>
    </div>
    <app-error-message-bar
        class="err-msg-bar"
        [errMsg]="err"
        *ngIf="err"
    ></app-error-message-bar>
</div>
